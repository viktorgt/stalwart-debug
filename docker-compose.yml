version: '3.8'

services:
  stalwart-v0.14.1:
    image: stalwartlabs/stalwart:v0.14.1-alpine
    container_name: stalwart-v0.14.1
    hostname: mail-v0.14.1.local
    ports:
      - "8080:8080"   # JMAP/HTTP
    environment:
      - STALWART_ADMIN_USER=admin
      - STALWART_ADMIN_PASSWORD=admin
      - RUST_LOG=debug
      - LOG_LEVEL=debug
    volumes:
      - ./stalwart/config.toml:/opt/stalwart/etc/config.toml:ro,Z
    restart: unless-stopped

  stalwart-v0.15.4:
    image: stalwartlabs/stalwart:v0.15.4-alpine
    container_name: stalwart-v0.15.4
    hostname: mail-v0.15.4.local
    ports:
      - "8081:8080"   # JMAP/HTTP
    environment:
      - STALWART_ADMIN_USER=admin
      - STALWART_ADMIN_PASSWORD=admin
      - RUST_LOG=debug
      - LOG_LEVEL=debug
    volumes:
      - ./stalwart/config.toml:/opt/stalwart/etc/config.toml:ro,Z
    restart: unless-stopped
